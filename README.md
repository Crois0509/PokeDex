# PokeDex

// ì™„ì„± í›„ ì¸ë„¤ì¼ ì¶”ê°€

**ğŸ¯í”„ë¡œì íŠ¸ ëª©ì **: MVVM íŒ¨í„´ê³¼ RxSwiftë¥¼ í™œìš©í•˜ì—¬ í¬ì¼“ëª¬ ë„ê° ì•± ë§Œë“¤ê¸°

**â°í”„ë¡œì íŠ¸ ì¼ì •**: 2024.12.23(ì›”) ~ 2024.01.06(ì›”) 12:00

**ğŸ”—Reperance**: [PokeAPI](https://pokeapi.co/#google_vignette)

***

## ğŸ† Git Flow

- `main`ì—ì„œ í”„ë¡œì íŠ¸ ê¸°ì´ˆ ì„¸íŒ…í•˜ê¸°
- `dev`ì—ì„œ ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
- `feat`ì—ì„œ ê¸°ëŠ¥ ì¶”ê°€í•˜ê¸°
- `test`ì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ ì²´í¬ ë° ë²„ê·¸ ìˆ˜ì •í•˜ê¸°
- `hofix`ì—ì„œ ê¸´ê¸‰í•œ ë²„ê·¸ ìˆ˜ì •í•˜ê¸°
- ê¸°ëŠ¥êµ¬í˜„ ì™„ë£Œ í›„ `test` -> `main`ìœ¼ë¡œ **ìŠ¤ì¿¼ì‹œ ë¨¸ì§€**ë¥¼ í†µí•´ ver1.0.0 ì™„ì„±í•˜ê¸°

<img width="500" alt="Untitled (9)" src="https://github.com/user-attachments/assets/af6a03fd-eb72-4773-93df-01b6bdc9a3d6" />


***

## ğŸ““ Pull Request ì‘ì„± ê·œì¹™

1. **ì œëª©**: ì‘ì—…í•œ ë‚´ìš©ì— ëŒ€í•œ ê°„ë‹¨í•œ ìš”ì•½
     
2. **ì‘ì—… ì„¸ë¶€ ì‚¬í•­**:
  - âœ¨New Contentâœ¨: ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥, ì†ì„± ë“±ì„ ì‘ì„±
  - â™»ï¸Change Pointâ™»ï¸: ê¸°ì¡´ê³¼ ë‹¬ë¼ì§„ ë‚´ìš©ì„ ì‘ì„±
  - ğŸš¨TrubleğŸš¨: ì‘ì—… ì¤‘ ë§ì´í•œ ë¬¸ì œ, í•´ê²°í•˜ì§€ ëª»í•œ ì  ë“±ì„ ì‘ì„±

3. **Github ì»¤ë°‹ ì»¨ë²¤ì…˜ ê°€ì´ë“œ (ì´ëª¨ì§€ ë²„ì „)**

  - ê¸°ë³¸ ì»¤ë°‹ íƒ€ì…
    - âš’ï¸ `proj` : í”„ë¡œì íŠ¸ ê´€ë ¨ ì„¤ì •
    - ğŸ“ `file` : ë‹¨ìˆœ íŒŒì¼ ì¶”ê°€ í˜¹ì€ ì´ë™
    - âœ¨ `feat` : ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
    - ğŸ `fix` : ë²„ê·¸ ìˆ˜ì • 
    - ğŸ“ `docs` : ë¬¸ì„œ ìˆ˜ì •
    - ğŸ’„ `style` : ì½”ë“œ í¬ë§·íŒ…, ì„¸ë¯¸ì½œë¡  ëˆ„ë½, ì½”ë“œ ë³€ê²½ì´ ì—†ëŠ” ê²½ìš°
    - â™»ï¸ `refactor` : ì½”ë“œ ë¦¬íŒ©í† ë§
    - âœ… `test` : í…ŒìŠ¤íŠ¸ ì½”ë“œ, ë¦¬íŒ©í† ë§ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
    - ğŸ¨ `chore` : ë¹Œë“œ ì—…ë¬´ ìˆ˜ì •, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ìˆ˜ì •
   
***

## ğŸŒŸ í•„ìˆ˜ êµ¬í˜„ ê¸°ëŠ¥
- `MVVM` ì•„í‚¤í…ì²˜ íŒ¨í„´ìœ¼ë¡œ í”„ë¡œì íŠ¸ êµ¬í˜„í•˜ê¸°
- `NetworkManager` ëª¨ë¸ì„ ë§Œë“¤ì–´ í”„ë¡œì íŠ¸ ê³µìš© API ë‹´ë‹¹ ê°ì²´ ìƒì„±
- `RxSwift`ë¥¼ í†µí•œ ë°ì´í„° ë°”ì¸ë”©
- `UICollectionView`ë¡œ í¬ì¼“ëª¬ ì´ë¯¸ì§€ í‘œí˜„í•˜ê¸°
- ì…€ ì„ íƒì‹œ `NavigationView`ë¥¼ í†µí•´ `DetaileViewController`ë¡œ ì´ë™í•˜ê¸°
- `DetaileViewController`ì—ì„œ í¬ì¼“ëª¬ì˜ ìƒì„¸ì •ë³´ ë³´ì—¬ì£¼ê¸°

### UI êµ¬ì¡°

| UI Image | UI Structure |
| :-: | :-: |
| <img width="661" alt="Untitled" src="https://github.com/user-attachments/assets/5b3d47b7-93ae-4c8e-9a36-696a12c7e292" /> | <img width="704" alt="Untitled (1)" src="https://github.com/user-attachments/assets/34006226-5ac3-4d91-a568-6204655195b8" /> |

### MVVM êµ¬ì¡°

<img width="1536" alt="Untitled (2)" src="https://github.com/user-attachments/assets/bb2767bb-8fe5-445b-aa2e-66dd4c6a1451" />

### í”„ë¡œì íŠ¸ êµ¬ì¡°ë„

<img width="1536" alt="Untitled (3)" src="https://github.com/user-attachments/assets/6e076c77-f3bf-441f-ba29-cb1419b34c66" />

***

## ğŸ’ª ë„ì „ êµ¬í˜„ ê¸°ëŠ¥
- `RxSwift`ì˜ `Relay`ë¥¼ í™œìš©í•´ë³´ê¸°
- ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ `Kingfisher` í™œìš©í•´ë³´ê¸°
- `Seatch` ê¸°ëŠ¥ êµ¬í˜„í•˜ê¸°
- íƒ­ êµ¬ë¶„í•˜ê¸°
- `AVFoundation` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ í¬ì¼“ëª¬ ìš¸ìŒì†Œë¦¬ êµ¬í˜„í•˜ê¸°

### UI êµ¬ì¡°

| UI Image | UI Structure |
| :-: | :-: |
| <img width="896" alt="Untitled (4)" src="https://github.com/user-attachments/assets/1eb95133-4a5c-4315-b652-4abfc459b158" /> | <img width="1024" alt="Untitled (5)" src="https://github.com/user-attachments/assets/1d657787-131c-4329-9061-1486807cd4d2" /> |

### MVVM êµ¬ì¡°

<img width="1536" alt="Untitled (6)" src="https://github.com/user-attachments/assets/832e84b1-8522-4d6c-b03b-38bd9ffd9548" />

### í”„ë¡œì íŠ¸ êµ¬ì¡°ë„

<img width="1408" alt="Untitled (7)" src="https://github.com/user-attachments/assets/c37b7d1e-6738-47a4-89e9-603780d9ced0" />

## ğŸ”¥ í”„ë¡œì íŠ¸ êµ¬í˜„ ëª©í‘œ

- í•„ìˆ˜ê¸°ëŠ¥, ë„ì „ê¸°ëŠ¥ ëª¨ë‘ êµ¬í˜„ ì™„ë£Œí•˜ê¸°
- RxSwiftì— ëŒ€í•œ ì´í•´ë„ë¥¼ ë†’ì´ê³  ì‚¬ìš© ë°©ë²• ìµíˆê¸°
- MVVM ì•„í‚¤í…ì²˜ íŒ¨í„´ì— ëŒ€í•œ ì´í•´ë„ë¥¼ ë†’ì´ê³  êµ¬ì¡° ìµíˆê¸°
- ê¹”ë”í•œ ì½”ë“œì™€ ì£¼ì„ì„ ì‘ì„±í•˜ì—¬ ì½”ë“œ ê°€ë…ì„± ë†’ì´ê¸°
- ì˜ˆì™¸ìƒí™©ì— ëŒ€í•œ ê³ ë¯¼ì„ í†µí•´ UX ê°œì„ í•˜ê¸°

***

## ğŸ’¡ ì£¼ìš” ê¸°ëŠ¥

// ì¶”í›„ ì—…ë°ì´íŠ¸

***

## ğŸ¤” ê¸°ëŠ¥ë³„ ê³ ë¯¼ì‚¬í•­

### 1) URL ê´€ë¦¬
ì´ë²ˆ ê³¼ì œì—ì„œ ì‚¬ìš©ë˜ëŠ” URLì€ 2ê°€ì§€ ì´ë‹¤. í•˜ë‚˜ëŠ” í¬ì¼“ëª¬ì˜ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” URLì´ê³ , í•˜ë‚˜ëŠ” í¬ì¼“ëª¬ì˜ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” URLì´ë‹¤.

ì²˜ìŒì—ëŠ” ë³„ ìƒê°ì—†ì´ í•„ìš”í•œ ê³³ì— URLì„ ì§ì ‘ `String` íƒ€ì…ìœ¼ë¡œ ì‘ì„±í•˜ì—¬ ì‚¬ìš©í–ˆëŠ”ë°, ì´ë ‡ê²Œ í•˜ë‹ˆ ì½”ë“œê°€ ë„ˆë¬´ ê¸¸ì–´ì§€ê³  ê´€ë¦¬ê°€ ì–´ë µë‹¤ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œ ê³ ë¯¼í•˜ë‹¤ê°€ URLì„ `enum`ìœ¼ë¡œ ê´€ë¦¬í•˜ìê³  ìƒê°í–ˆë‹¤.

ì´ ë•Œ, ë¬¸ì œê°€ ë˜ì—ˆë˜ ì ì€ ê°ê°ì˜ URLì´ í•­ìƒ ê³ ì •ëœ ê°’ì´ ì•„ë‹ˆë¼ ë³€ë™ì´ ë°œìƒí•œë‹¤ëŠ” ì ì´ì—ˆë‹¤.
ê·¸ëŸ¬ë‹ˆê¹Œ Quaryë¼ê³  í•˜ëŠ” ë¶€ë¶„ì´ ê³„ì†í•´ì„œ ë°”ë€Œì–´ì•¼ í•˜ëŠ” ìƒí™©ì´ì—ˆê¸° ë•Œë¬¸ì— ì´ë¥¼ ì–´ë–»ê²Œ êµ¬í˜„í• ê¹Œ ê³ ë¯¼í–ˆë‹¤.

ê·¸ëŸ¬ë‹¤ê°€ ì—°ê´€ê°’ì„ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ì„œ í•œë²ˆ ì‹œë„í•´ ë³´ì•˜ë‹¤.
```swift
enum URLManager {
    case pokemonData(limit: Int, offset: Int)
    case pokemonImage(id: Int)
}
```
ì´ë ‡ê²Œ í•˜ë©´ íŠ¹ì • ì¼€ì´ìŠ¤ë¥¼ ì„ íƒí–ˆì„ ë•Œ ì—°ê´€ê°’ì„ ì…ë ¥í•´ ì£¼ì–´ì•¼ í•˜ê³ , ì´ ì—°ê´€ê°’ìœ¼ë¡œ Quaryë¥¼ ë³€ê²½ì‹œí‚¤ë©´ ë˜ê² ë‹¤ê³  ìƒê°í–ˆë‹¤.
```swift
func sendURL() -> String {
     switch self {
     case .pokemonData(limit: let limit, offset: let offset):
          return "https://pokeapi.co/api/v2/pokemon?limit=\(limit)&offset=\(offset)"
     case .pokemonImage(id: let id):
          return "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/\(id).png"
     }
}
```
ì´ë ‡ê²Œ `enum` ì•ˆì— ë©”ì†Œë“œë¡œ êµ¬í˜„í•´ì„œ ì‚¬ìš©í•˜ë‹ˆê¹Œ ì˜ ì‘ë™í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.

ê·¸ëŸ¬ë‚˜, ì´ë ‡ê²Œ í•˜ë‹ˆê¹Œ URLì„ ì‚¬ìš©í•  ë•Œ ì½”ë“œê°€ ì•ˆ ì´ì˜ë‹¤ê³  ìƒê°í–ˆë‹¤.
```swift
URLManager.pokemonData(limit: limit, offset: offset).sendURL()
```
ìœ„ì™€ ê°™ì€ í˜•ì‹ì´ ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë˜ì„œ ìƒê°í–ˆë‹¤. êµ³ì´ ë©”ì†Œë“œë¡œ êµ¬í˜„í•˜ì§€ ë§ê³  ê³„ì‚° í”„ë¡œí¼í‹°ë¡œ êµ¬í˜„í•˜ìê³ 

```swift
var sendURL: String {
     switch self {
     case .pokemonData(limit: let limit, offset: let offset):
          return "https://pokeapi.co/api/v2/pokemon?limit=\(limit)&offset=\(offset)"
     case .pokemonImage(id: let id):
          return "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/\(id).png"
     }
}
```
ì´ë ‡ê²Œ í•˜ë‹ˆ í¬ê²Œ ì½”ë“œë¥¼ ë°”ê¾¸ì§€ ì•Šê³ ë„ ê°™ì€ ë™ì‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆê³ , ì½”ë“œë¥¼ ì‚¬ìš©í•  ë•Œ ì „ë³´ë‹¤ ë³´ê¸° ì¢‹ì•„ì¡Œë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

```swift
// ì‹¤ì‚¬ìš© ì˜ˆì‹œ
URLManager.pokemonData(limit: limit, offset: offset).sendURL
```

### 2) CompositionalLayout VS FlowLayout
ë©”ì¸ í™”ë©´ì˜ ëŒ€ë¶€ë¶„ì„ ì°¨ì§€í•˜ëŠ” ê²ƒì€ `UICollectionView`ì´ë‹¤. ë•Œë¬¸ì— ì´ ë·°ë¥¼ êµ¬í˜„í•˜ê³  ë‚˜ë©´ ëŒ€ë¶€ë¶„ì˜ UI ì‘ì—…ì´ ëë‚˜ëŠ” ê²ƒì¸ë°, ë„ˆë¬´ ê°„ë‹¨íˆ ëë‚´ë©´ ì¬ë¯¸ ì—†ìœ¼ë‹ˆ ì´ë²ˆì— ìƒˆë¡œ ë°°ìš´ `CompositionalLayout`ì„ ì‚¬ìš©í•´ë³´ìê³  ìƒê°í–ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë§‰ìƒ êµ¬í˜„í•  ë•Œê°€ ë˜ë‹ˆ, 3*n í˜•ì‹ì˜ ë°°ì—´ì„ ê°€ì§€ëŠ” ì»¬ë ‰ì…˜ë·°ë¥¼ `FlowLayout`ìœ¼ë¡œ ê°„ë‹¨íˆ êµ¬í˜„í•  ìˆ˜ ìˆëŠ”ë° `CompositionalLayout`ì„ ì¨ì„œ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì˜ë¯¸ê°€ ìˆì„ê¹Œ ì‹¶ì—ˆë‹¤.

ê·¸ë˜ì„œ ë‘˜ì„ ë¹„êµí•´ ë³´ì•˜ëŠ”ë°, ê²°ë¡ ì ìœ¼ë¡œëŠ” `FlowLayout`ì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ê¸°ë¡œ ê²°ì •í•˜ì˜€ë‹¤.

ê·¸ ì´ìœ ëŠ”, êµ³ì´ `CompositionalLayout`ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë  ì •ë„ë¡œ ë‹¨ìˆœí•˜ê³  ê°„ë‹¨í•œ UIì¸ ê²ƒê³¼ ìŠ¤í¬ë¡¤ ë°©í–¥ì´ ë‹¨ë°©í–¥ì¸ ì , ì„¹ì…˜ì˜ êµ¬ë¶„ì´ ì—†ê³  í—¤ë”ë‚˜ í‘¸í„°ê°€ ì—†ëŠ” ì  ë“± ê¼­ `CompositionalLayout`ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ì¶©ë¶„íˆ êµ¬í˜„í•  ìˆ˜ ìˆì—ˆê¸° ë•Œë¬¸ì´ë‹¤.
ë¬¼ë¡ , `CompositionalLayout`ì„ ì‚¬ìš©í•˜ë©´ ì„±ëŠ¥ìƒì˜ ì´ì ì´ë‚˜ ê´€ë¦¬ì˜ ìš©ì´ì„±ì´ ìˆì„ ìˆ˜ ìˆì§€ë§Œ, ì´ë²ˆ ê³¼ì œì˜ ì£¼ìš” ëª©í‘œê°€ RxSwiftì™€ MVVM íŒ¨í„´ì— ëŒ€í•´ ìˆ™ë‹¬ì‹œí‚¤ëŠ” ê²ƒì´ë¼ê³  ìƒê°í–ˆì„ ë•Œ, êµ³ì´ ì—¬ê¸°ì„œ ì‹œê°„ì„ ë‚­ë¹„í•  í•„ìš”ê°€ ì—†ë‹¤ê³  ìƒê°í–ˆë‹¤.

ëŒ€ì‹ , ëª¨ë“  ê¸°ëŠ¥ì„ ì™„ì„±í•˜ê³ ë„ ì‹œê°„ì´ ë‚¨ëŠ”ë‹¤ë©´ `CompositionalLayout`ì„ ì‚¬ìš©í•´ì„œ ë¦¬íŒ©í† ë§ í•´ë³´ìê³  ìƒê°í•˜ì˜€ë‹¤.

### 3) í´ë˜ìŠ¤ì˜ ì—­í• ê³¼ ì±…ì„
ì´ë²ˆ ê³¼ì œì˜ í•„ìˆ˜ êµ¬í˜„ í•­ëª© ì¤‘ `NetworkManager`ë¥¼ êµ¬í˜„í•˜ëŠ” í•­ëª©ì´ ìˆë‹¤.

ë§ ê·¸ë˜ë„ ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ì‘ì—…ë“¤ì„ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ì¸ë°, ì´ í´ë˜ìŠ¤ë¥¼ ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ë§Œë“¤ì–´ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ë‹¤.
ì´ ë•Œ, ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ê°€ ê°€ì§„ ë©”ì†Œë“œëŠ” íŠ¹ì • urlì„ JSON ëª¨ë¸ íŒŒì¼ë¡œ ë””ì½”ë”© í•´ì£¼ëŠ” ë©”ì†Œë“œ ë¿ì´ì—ˆëŠ”ë°, ê³¼ì œë¥¼ ê³„ì† êµ¬í˜„í•˜ë‹¤ë³´ë‹ˆ ë””ì½”ë”© ì—†ì´ API í†µì‹ ì„ í•„ìš”ë¡œ í•˜ëŠ” ë¶€ë¶„ì´ ìˆì—ˆë‹¤.

ë°”ë¡œ í¬ì¼“ëª¬ì˜ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì´ì—ˆë‹¤. ë‹¹ì—°íˆ ê¸°ì¡´ ë§í¬ì—ì„œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤„ ì•Œì•˜ëŠ”ë°, í¬ì¼“ëª¬ ì´ë¯¸ì§€ëŠ” ì™„ì „ ë‹¤ë¥¸ urlì—ì„œ ì§ì ‘ png íŒŒì¼ì„ ê°€ì ¸ì˜¤ëŠ” í˜•ì‹ì´ì—ˆê¸° ë•Œë¬¸ì— ë³„ë„ë¡œ ë””ì½”ë”©ì´ í•„ìš”í•˜ì§€ ì•Šì•˜ë‹¤. ê·¸ë˜ì„œ MainViewModelì—ì„œ ì§ì ‘ urlì„ ì…ë ¥í•˜ê³  API í†µì‹ ì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì™”ëŠ”ë°, ë‚˜ì¤‘ì— ë‹¤ì‹œ ë³´ë‹ˆ API í†µì‹ ì´ë¼ëŠ” ì‘ì—…ì€ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ê°€ í•´ì•¼í•˜ëŠ” ì¼ì´ ì•„ë‹Œê°€? í•˜ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤.

ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ì˜ ì—­í• ì´ API í†µì‹  ë“±ì˜ ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ í•˜ëŠ” ê²ƒì¸ë°, ê·¸ ì‘ì—…ì„ ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ í•œë‹¤ë©´ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ì˜ ì¡´ì¬ ì˜ë¯¸ê°€ í‡´ìƒ‰ë˜ëŠ”ê²Œ ì•„ë‹Œê°€ ìƒê°í–ˆë‹¤.

ê·¸ëŸ¼ í¬ì¼“ëª¬ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” API ì‘ì—…ë„ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €í•œí…Œ ì¼ì„í•˜ë©´ ë˜ëŠ”ê²Œ ì•„ë‹Œê°€?

ì—¬ê¸°ì„œ ë˜ ê³ ë¯¼ì— ë¹ ì§„ ì ì€, í˜„ì¬ ìƒíƒœì—ì„œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì€ MainViewModel ì™¸ì— ì•„ë¬´ë„ ì—†ë‹¤. ê·¸ëŸ°ë° ë„¤íŠ¸ì›Œí¬ ì‘ì—…ì´ë¼ëŠ” ì´ìœ ë¡œ MainViewModel ë§Œì„ ìœ„í•´ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ì—ê²Œ ì‘ì—…ì„ ì¼ì„í•˜ëŠ”ê²Œ ë§ëŠ”ê±¸ê¹Œ í•˜ëŠ” ì˜ë¬¸ì´ ìƒê¸´ ê²ƒì´ë‹¤. ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ë¥¼ ë³„ë„ë¡œ ì„ ì–¸í•œ ê²ƒì€ ê²°êµ­ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ë„¤íŠ¸ì›Œí¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ê°€ ë§¡ì•„ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ì„œì¸ë°, ì¬ì‚¬ìš©ì´ ë ì§€ ì•ˆë ì§€ ë¶ˆë¶„ëª…í•œ ì½”ë“œë¥¼ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ì—ê²Œ ì¼ì„í•˜ëŠ” ê²ƒì´ ë§ëŠ” ê²ƒì¸ê°€ í•˜ëŠ” ì˜ë¬¸ì´ì—ˆë‹¤.

ì£¼ë³€ íŒ€ì›ë“¤ê³¼ íŠœí„°ë‹˜ê»˜ ì´ì— ëŒ€í•œ ì§ˆë¬¸ì„ í•˜ê³  ë‹µë³€ì„ êµ¬í–ˆëŠ”ë°, ë‹¤ë“¤ ì˜ê²¬ì´ ë‹¬ëë‹¤.
ê·¸ë ‡ì§€ë§Œ ì¡°ì–¸ì„ êµ¬í•œ ë•ë¶„ì— ê²°ë¡ ì€ ë‚´ë¦´ ìˆ˜ ìˆì—ˆëŠ”ë°, ê²°ë¡ ì€ ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ì—ê²Œ ì‘ì—…ì„ ì¼ì„í•˜ìëŠ” ê²ƒì´ì—ˆë‹¤.

ê·¸ ì´ìœ ëŠ”, í´ë˜ìŠ¤ì™€ ê° ë©”ì†Œë“œì˜ ì—­í• ê³¼ ì±…ì„ì„ í™•ì‹¤í•˜ê²Œ ë‚˜ëˆ„ê¸° ìœ„í•œ ê²ƒê³¼, ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì‘ì—…ì€ ì¬í™œìš©ë  ê°€ëŠ¥ì„±ì´ ë†’ë‹¤ê³  ìƒê°í•´ì„œì´ë‹¤.
ì„¤ë ¹ MainViewModelì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ì½”ë“œë¼ê³  í•˜ë”ë¼ë„, MainViewModelì—ì„œ ì§ì ‘ ì„ ì–¸í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ë„¤íŠ¸ì›Œí¬ ë§¤ë‹ˆì €ë¥¼ í†µí•´ì„œ API ì‘ì—…ì„ í•˜ëŠ” ê²ƒì´ ì—­í•  ë¶„ë¦¬ê°€ ë” ì˜ ëœë‹¤ê³  ìƒê°í–ˆê³ , ì´ë¯¸ì§€ëŠ” ì–´ë””ì„œë“  ì¬í™œìš©ë  í™•ë¥ ì´ ë†’ê¸° ë•Œë¬¸ì— ì¬í™œìš©í•  ìˆ˜ ìˆë„ë¡ ë¯¸ë¦¬ êµ¬í˜„í•´ ë‘ì–´ì„œ ë‚˜ì  ê²ƒì´ ì „í˜€ ì—†ë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

```swift
final class NetworkManager {
     func fetchImage(id: Int) -> UIImage? {
        var resultImage: UIImage?
        guard let url = URL(string: URLManager.pokemonImage(id: id).sendURL) else { return nil }
        
        DispatchQueue.global().sync {
            guard let imageData = try? Data(contentsOf: url) else {
                resultImage = nil
                return
            }
            
            guard let image = UIImage(data: imageData) else {
                resultImage = nil
                return
            }
            
            resultImage = image
        }
        
        return resultImage
    }
}
```

### 4) ë°ì´í„° ë°”ì¸ë”© ì¶”ìƒí™”í•˜ê¸°
MainViewModelì—ì„œëŠ” RxSwiftë¥¼ í™œìš©í•˜ì—¬ ë°ì´í„° ë°”ì¸ë”©ì„ ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•´ì•¼ í–ˆë‹¤.
RxSwiftëŠ” ì•„ì§ ì–´ë ¤ì›Œì„œ ì¼ë‹¨ ê¸°ëŠ¥ êµ¬í˜„ì„ ëª©í‘œë¡œ ì—´ì‹¬íˆ ì½”ë“œë¥¼ ì‘ì„±í–ˆëŠ”ë°, ê·¸ ê²°ê³¼ê°€ ì•„ë˜ì™€ ê°™ë‹¤.

```swift
final class MainViewModel {
    private let limit: Int = 20
    private let offset: Int = 0

    let disposeBag = DisposeBag()

    let pokeDexData = BehaviorSubject(value: [PokemonData]())

    init() {
        fetchPokeDex(self.pokeDexData)
    }

    private func fetchData<T: Decodable>(url: URL, decodingType: T.Type) -> Single<T> {
        return NetworkManager.shared.fetch(url: url)
    }

    private func fetchPokeDex(_ subject: BehaviorSubject<[PokemonData]>) {
        guard let url = URL(string: "https://pokeapi.co/api/v2/pokemon?limit=\(limit)&offset=\(offset)") else {
            print(NetworkError.invalidURL.errorDescription)
            return
        }

        fetchData(url: url, decodingType: PokemonDataModel.self)
            .subscribe(onSuccess: { data in
                subject.onNext(data.results)

            }, onFailure: { error in
                subject.onError(error)
                print(NetworkError.dataFetchFail.errorDescription)

            }).disposed(by: self.disposeBag)
    }
}
```

ë‚˜ë¦„ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ì„œ ì‘ì„±í•œë‹¤ê³  ì‘ì„±í–ˆëŠ”ë°, ì—¬ì „íˆ ì½”ë“œê°€ ì§€ì €ë¶„í•˜ë‹¤ê³  ëŠê»´ì¡Œë‹¤.
ì–´ë–»ê²Œ í•˜ë©´ ë” ê¹”ë”í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì„ê¹Œ ë¦¬íŒ©í† ë§ì„ ê³ ë¯¼í•˜ë‹¤ê°€, ë‹¤ë¥¸ ë·° ëª¨ë¸ì„ ë§Œë“¤ ë•Œë„ ë¹„ìŠ·í•œ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¹¨ë‹«ê²Œ ë˜ì—ˆë‹¤.

ê·¸ëŸ¼ ì°¨ë¼ë¦¬ í”„ë¡œí† ì½œë¡œ í•„ìˆ˜ ê¸°ëŠ¥ë“¤ì„ ì„ ì–¸í•´ë‘ê³ , ì´ í”„ë¡œí† ì½œì„ ì±„íƒí•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ í•„ìˆ˜ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë©´ ì–´ë–¨ê¹Œ?
ê·¸ë¦¬ê³  ë·° ëª¨ë¸ì˜ ìƒì„±ìë¥¼ ë§Œë“¤ì–´ì„œ ì´ˆê¸°í™”í•  ë•Œ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì£¼ì…í•˜ë„ë¡ í•˜ë©´ ê¸°ëŠ¥ì˜ ì¶”ìƒí™”ë¥¼ ë‹¬ì„±í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?

ë¬¼ë¡  ì½”ë“œë¥¼ ì™„ì „ ë’¤ì—ì–´ì•¼ í–ˆì§€ë§Œ... ì‹œë„í• ë§Œí•œ ê°€ì¹˜ê°€ ìˆë‹¤ê³  ìƒê°í•˜ì—¬ ìƒˆë¡œ íŒŒì¼ì„ ë§Œë“¤ê³  ë°”ë¡œ ì‘ì—…ì„ ì‹œì‘í–ˆë‹¤
```swift
protocol PokemonServiceProtocol {
    func fetchPokemonList(limit: Int, offset: Int) -> Single<PokemonDataModel>
    func fetchPokemonDetails(_ datas: [PokemonData]) -> Single<[PokemonDetailDataModel]>
}
```
ë¨¼ì € ë·° ëª¨ë¸ì´ í•„ìˆ˜ë¡œ ê°€ì§ˆ ë©”ì†Œë“œëŠ” í¬ì¼“ëª¬ì˜ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ë©”ì†Œë“œì™€ ë””í…Œì¼í•œ ë°ì´í„°ë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œì´ë‹¤. ì´ë¥¼ í”„ë¡œí† ì½œì—ì„œ ì„ ì–¸í•´ì£¼ê³  ì´ í”„ë¡œí† ì½œì„ ì±„íƒí•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì¤€ë‹¤.
```swift
final class PokemonManager: PokemonServiceProtocol {
    func fetchPokemonList(limit: Int, offset: Int) -> Single<PokemonDataModel> {
        guard let url = URL(string: URLManager.pokemonData(limit: limit, offset: offset).sendURL) else {
            print(NetworkError.invalidURL.errorDescription)
            return Single.error(NetworkError.invalidURL)
        }
        
        return NetworkManager.shared.fetch(url: url)
    }
    
    func fetchPokemonDetails(_ datas: [PokemonData]) -> Single<[PokemonDetailDataModel]> {
        return Observable.from(datas)
            .flatMap { data -> Single<PokemonDetailDataModel> in
                guard let url = URL(string: data.url) else {
                    return Single.error(NetworkError.invalidURL)
                }
                return NetworkManager.shared.fetch(url: url)
            }
            .toArray()
    }
}
```
RxSwift ì½”ë“œë„ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ êµ¬ë…ì„ í†µí•œ ê¸°ëŠ¥ì˜ í™•ì¥ì„±ë„ í™•ë³´í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì¬í™œìš©ì„±ë„ ì¢‹ë‹¤ê³  ìƒê°í–ˆë‹¤.
ì´ë ‡ê²Œ í•˜ë‹ˆ ë·° ëª¨ë¸ì— ì‘ì„±ëœ ì½”ë“œë„ ì¤„ê³ , ì¶”í›„ ë‹¤ë¥¸ ë·° ëª¨ë¸ì„ êµ¬í˜„í•  ë•Œë„ ì†ì‰½ê²Œ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ìˆ˜ ìˆì–´ ë¬´ì²™ ì¢‹ì•˜ë‹¤.

ì‚¬ì‹¤ ì¶”ìƒí™”ë¥¼ ê³ ë¯¼í•˜ì—¬ ê²ªì€ ì‹œí–‰ì°©ì˜¤ê°€ ë¬´ì²™ ë§ì€ë°, ê¸°ë¡ì„ í•˜ì§€ ì•Šìœ¼ë©´ì„œ ì½”ë“œë¥¼ ì‘ì„±í•œ íƒ“ì— ë‚´ìš©ì´ íœ˜ë°œë˜ì–´ ë²„ë ¸ë‹¤...

ì»¤ë°‹ë„ ì¶”ìƒí™”ë¥¼ ì™„ë£Œí•œ ë’¤ì— í•œ íƒ“ì— ê¸°ë¡ì´ ì—†ë‹¤...

ì•ìœ¼ë¡œëŠ” ì´ëŸ° ì‘ì—…ì„ í•  ë•Œ ê¸°ë¡ì„ ë‚¨ê²¨ê°€ë©° ì‘ì—…í•´ì•¼ê² ë‹¤ê³  ìƒê°í–ˆë‹¤. 


